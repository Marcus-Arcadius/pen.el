#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import openai

API_TOKEN = os.environ.get("OPENAI_API_KEY")
PEN_MODEL = os.environ.get("PEN_MODEL")
PEN_PROMPT = os.environ.get("PEN_PROMPT")
PEN_MODE = os.environ.get("PEN_MODE")
PEN_TEMPERATURE = os.environ.get("PEN_TEMPERATURE")
PEN_LOGPROBS = os.environ.get("PEN_LOGPROBS")
PEN_TRAILING_WHITESPACE = os.environ.get("PEN_TRAILING_WHITESPACE")

# LOGIT_BIAS is not a big priority
# Besides, char-level models might make this completely redundant

openai.Completion.create(
     engine=PEN_MODEL,
     prompt=PEN_PROMPT,
     logprobs=int(PEN_LOGPROBS),
     stop="\n",
     temperature=float(PEN_TEMPERATURE),
     logit_bias={6342: -1})

# Return probabilities
# 